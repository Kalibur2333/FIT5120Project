@model FIT5120Project.Models.Fabric

@{
    ViewBag.Title = "Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<br />
<div role="status" class="mx-auto max-w-screen-xl p-4 border border-gray-200 rounded shadow md:p-6">
    <div id="default-carousel1" class="relative w-full" data-carousel="static">
        <!-- Carousel wrapper -->
        <div class="relative h-[700px] overflow-hidden rounded-lg md:h-[700px]">
            <!-- Item 1 -->
            <div class="hidden duration-700 ease-in-out" data-carousel-item="active">
                <p class="text-end mx-20">@Html.ActionLink("Back to List", "Index")</p>
                <p class="text-center text-2xl text-btn font-bold mb-5">Fabric Comparison</p>
                <div class="flex">
                    <div class="mx-10 justify-center w-[700px]">
                        @if (Model.FabricName == "Viscose")
                        {
                            <div class=" mb-4 mx-auto text-black text-xl text-center">
                                <span class="text-2xl text-btn font-bold">Viscose</span> is a light-weight fabric which is a chemically produced fibre. It is very cheap to make and it requires a large amount of chemicals for it’s production. As it is very soft, it is often used as a substitute for silk, but it lacks the durability of more natural fabrics.
                            </div>
                        }
                        @if (Model.FabricName == "Cotton")
                        {
                            <div class=" mb-4 mx-auto text-black text-xl text-center">
                                <span class="text-2xl text-btn font-bold">Cotton</span> is a light, biodegradable fabric which is a naturally produced fiber. As it is so durable, it does not retain odours and thus requires fewer washes between wears. Although cotton is a natural fiber, it’s production is not completely sustainable as it requires a lot of water and pesticides to grow.
                            </div>
                        }
                        @if (Model.FabricName == "Organic Cotton")
                        {
                            <div class=" mb-4 mx-auto text-black text-xl text-center">
                                <span class="text-2xl text-btn font-bold">Organic cotton</span> is a more sustainable alternative to cotton. It does not contain the same harmful chemicals, which is of benefit to the health of farmers and the local environment where it grows. Despite this, organic cotton is still as light and durable as regular cotton.
                            </div>
                        }
                        @if (Model.FabricName == "Synthetic Blend")
                        {
                            <div class=" mb-4 mx-auto text-black text-xl text-center">
                                <span class="text-2xl text-btn font-bold">Synthetic blend</span> fabrics combine natural and synthetic fibers to combine the advantages of both types of fabric. Natural fibers are generally more breathable and comfortable, whereas, synthetic fibers are often more durable and stretchy. While these fabrics can be good for the environment given their natural fiber composition, they still require extra energy consumption to combine them.
                            </div>
                        }
                        @if (Model.FabricName == "Wool")
                        {
                            <div class=" mb-4 mx-auto text-black text-xl text-center">
                                <span class="text-2xl text-btn font-bold">Wool</span> is a warm, breathable fabric that comes from sheep. It is a natural fiber and is often biodegradable. The production of wool, however, does emit a lot of greenhouse gases.
                            </div>
                        }
                        @if (Model.FabricName == "Linen")
                        {
                            <div class=" mb-4 mx-auto text-black text-xl text-center">
                                <span class="text-2xl text-btn font-bold">Linen</span> is a light and durable fiber made naturally from the flax plant. It is very long lasting and when it is not dyed it is biodegradable. The flax plant is good for the environment as it does not require many pesticides. Linen does require some chemicals in the production process, however, such as bleach to create its white colour.
                            </div>
                        }
                        @if (Model.FabricName == "Recycled Polyester")
                        {
                            <div class=" mb-4 mx-auto text-black text-xl text-center">
                                <span class="text-2xl text-btn font-bold">Recycled polyester</span> is made from melting down plastic into new fibers, which still have the original quality characteristics of polyester. This process reduces the amount of plastic in landfill but the recycling process creates a lot of pollutants and the end product is not biodegradable.
                            </div>
                        }
                        @if (Model.FabricName == "Microfiber")
                        {
                            <div class=" mb-4 mx-auto text-black text-xl text-center">
                                <span class="text-2xl text-btn font-bold">Microfiber</span> is a synthetic fabric which is made of many fine fibers. It is very durable and water repellant but contributes to microfiber pollution in water. Despite this, microfiber is still a more sustainable option over other synthetic fabrics.

                            </div>
                        }
                        @if (Model.FabricName == "Polyester")
                        {
                            <div class=" mb-4 mx-auto text-black text-xl text-center">
                                <span class="text-2xl text-btn font-bold">Polyester</span> is a breathable, synthetic fiber that is often derived from petroleum. It is durable and does not wrinkle, however, it is not biodegradable and it requires a lot of water for its production.

                            </div>
                        }
                        @if (Model.FabricName == "Nylon")
                        {
                            <div class=" mb-4 mx-auto text-black text-xl text-center">
                                <span class="text-2xl text-btn font-bold">Nylon</span> is a durable, stretchy fiber that is synthetically produced and is not biodegradable. It is derived from crude oil and created through an intensive chemical process using coal and petroleum which requires a lot of energy.

                            </div>
                        }
                        @if (Model.FabricName == "Rayon")
                        {
                            <div class=" mb-4 mx-auto text-black text-xl text-center">
                                <span class="text-2xl text-btn font-bold">Rayon</span> is a light-weight fabric which is a chemically produced fiber. It is very cheap to make and it requires a large amount of chemicals for it’s production. As it is very soft, it is often used as a substitute for silk, but it lacks the durability of more natural fabrics.
                            </div>
                        }
                        @if (Model.FabricName == "Synthetic")
                        {
                            <div class=" mb-4 mx-auto text-black text-xl text-center">
                                <span class="text-2xl text-btn font-bold">Synthetic fibers</span> are made using chemical processes, often with petroleum. Synthetic fiber is a general term to describe fabrics such as polyester, nylon and elastane. They are often stretchier, more waterproof and more stain-resistant than natural fibers, but they are significantly worse for the planet.
                            </div>
                        }
                        @if (Model.FabricName == "Acrylic")
                        {
                            <div class=" mb-4 mx-auto text-black text-xl text-center">
                                <span class="text-2xl text-btn font-bold">Acrylic</span> is a durable and lightweight synthetic fiber that often resembles wool. It is very similar to polyester as it uses a lot of chemicals in it’s production and is not biodegradable.
                            </div>
                        }
                        @if (Model.FabricName == "Elastane")
                        {
                            <div class=" mb-4 mx-auto text-black text-xl text-center">
                                <span class="text-2xl text-btn font-bold">Elastane</span>, also known as Spandex, is a very stretchy synthetic fiber. It is very similar to polyester as it uses a lot of chemicals in it’s production and is not biodegradable.
                            </div>
                        }
                    </div>
                    <div class="flex-col justify-center mx-auto my-3">
                        <div class="flex justify-center text-2xl font-bold text-btn">
                            @Html.DisplayFor(model => model.Score)/10
                        </div>
                        <div class="flex justify-center">
                            @{
                                var starsFull = (int)Math.Floor(Model.Score / 2.0); // Full stars
                                var starHalf = Model.Score % 2 >= 1 ? 1 : 0; // Half star
                                var starsEmpty = 5 - starsFull - starHalf; // Empty stars
                            }
                            @for (int i = 0; i < starsFull; i++)
                            {
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" style="fill: rgba(58, 191, 33, 0.8);"><path d="m22 3.41-.12-1.26-1.2.4a13.84 13.84 0 0 1-6.41.64 11.87 11.87 0 0 0-6.68.9A7.23 7.23 0 0 0 3.3 9.5a9 9 0 0 0 .39 4.58 16.6 16.6 0 0 1 1.18-2.2 9.85 9.85 0 0 1 4.07-3.43 11.16 11.16 0 0 1 5.06-1A12.08 12.08 0 0 0 9.34 9.2a9.48 9.48 0 0 0-1.86 1.53 11.38 11.38 0 0 0-1.39 1.91 16.39 16.39 0 0 0-1.57 4.54A26.42 26.42 0 0 0 4 22h2a30.69 30.69 0 0 1 .59-4.32 9.25 9.25 0 0 0 4.52 1.11 11 11 0 0 0 4.28-.87C23 14.67 22 3.86 22 3.41z"></path></svg>
                            }
                            @if (starHalf == 1)
                            {
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" style="fill: rgba(58, 191, 33, 0.8);"><path d="m22 3.41-.12-1.26-1.2.4a13.84 13.84 0 0 1-6.41.64 11.87 11.87 0 0 0-6.68.9A7.23 7.23 0 0 0 3.3 9.5a9 9 0 0 0 .39 4.58 16.6 16.6 0 0 1 1.18-2.2 9.85 9.85 0 0 1 4.07-3.43 11.16 11.16 0 0 1 5.06-1A12.08 12.08 0 0 0 9.34 9.2a9.48 9.48 0 0 0-1.86 1.53 11.38 11.38 0 0 0-1.39 1.91 16.39 16.39 0 0 0-1.57 4.54A26.42 26.42 0 0 0 4 22h2a30.69 30.69 0 0 1 .59-4.32 9.25 9.25 0 0 0 4.52 1.11 11 11 0 0 0 4.28-.87C23 14.67 22 3.86 22 3.41z"></path></svg>// Half star
                            }
                            @for (int i = 0; i < starsEmpty; i++)
                            {
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" style="fill: rgba(58, 191, 33, 0.8);"><path d="m21.88 2.15-1.2.4a13.84 13.84 0 0 1-6.41.64 11.87 11.87 0 0 0-6.68.9A7.23 7.23 0 0 0 3.3 9.5a8.65 8.65 0 0 0 1.47 6.6c-.06.21-.12.42-.17.63A22.6 22.6 0 0 0 4 22h2a30.69 30.69 0 0 1 .59-4.32 9.25 9.25 0 0 0 4.52 1.11 11 11 0 0 0 4.28-.87C23 14.67 22 3.86 22 3.41zm-7.27 13.93c-2.61 1.11-5.73.92-7.48-.45a13.79 13.79 0 0 1 1.21-2.84A10.17 10.17 0 0 1 9.73 11a9 9 0 0 1 1.81-1.42A12 12 0 0 1 16 8V7a11.43 11.43 0 0 0-5.26 1.08 10.28 10.28 0 0 0-4.12 3.65 15.07 15.07 0 0 0-1 1.87 7 7 0 0 1-.38-3.73 5.24 5.24 0 0 1 3.14-4 8.93 8.93 0 0 1 3.82-.84c.62 0 1.23.06 1.87.11a16.2 16.2 0 0 0 6-.35C20 7.55 19.5 14 14.61 16.08z"></path></svg>// Empty star
                            }
                        </div>
                    </div>
                </div>

                <div style="width: 1000px; height: 400px; max-width: 100%; margin: auto;">
                    <canvas id="brandChart"></canvas>
                </div>

            </div>
            <!-- Item 2 -->
            <div class="hidden duration-700 ease-in-out" data-carousel-item>
                <p class="text-end mx-20">@Html.ActionLink("Back to List", "Index")</p>
                <p class="text-center text-2xl text-btn font-bold mb-5">Environmental Impact</p>
                <div class="mx-20 justify-center">
                    <div class=" mb-4 mx-auto text-black text-xl text-center">
                        <p>Sustainability ratings are derived from an analysis of the environmental impact of each fabric and are shown as a score out of 10. Wardrobe for Earth combines each of these factors using their own methodology to give the fabric’s Overall Score.</p>
                        <br />
                        <p>Note: Sales revenue is a rating of how much the fabric cost to make, as cheaper production costs are indicative of poorer environmental standards</p>
                    </div>
                </div>
                <div style="width: 1000px; height: 400px; max-width: 100%; margin: auto;">
                    <canvas id="environmentImpactChart"></canvas>
                </div>

            </div>
            <!-- Item 3 -->
            <div class="hidden duration-700 ease-in-out" data-carousel-item>
                <p class="text-end mx-20">@Html.ActionLink("Back to List", "Index")</p>
                <p class="text-center text-2xl text-btn font-bold">Recommendations</p>
                <div class="flex">
                    <div>
                        <p class="text-xl text-black mx-20 mt-10">
                            If production of this fabric continues at current rates
                        </p>
                        <p class="text-xl text-black mx-20 mb-10">
                            by 2050 our oceans could have more plastic than fish
                        </p>
                    </div>
                    <div><img class="md:h-auto max-w-[50px] mt-10" src="~/Content/images/faDe3.png" alt=""></div>

                </div>

                <p class="text-xl text-black mx-20 my-10">Switch to these sustainable alternatives:</p>
                <div class="flex justify-center my-20">
                    <a href="@Url.Action("Details", "Fabrics", new { id = 1 })" class="block max-w-sm p-6 bg-white border border-gray-200 rounded-lg shadow mx-10">
                        <h5 class="mb-2 text-xl font-bold tracking-tight text-btn">Organic Cotton</h5>
                        <div class="flex items-center">
                            @for (int i = 0; i < 5; i++)
                            {
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" style="fill: rgba(58, 191, 33, 0.8);"><path d="m22 3.41-.12-1.26-1.2.4a13.84 13.84 0 0 1-6.41.64 11.87 11.87 0 0 0-6.68.9A7.23 7.23 0 0 0 3.3 9.5a9 9 0 0 0 .39 4.58 16.6 16.6 0 0 1 1.18-2.2 9.85 9.85 0 0 1 4.07-3.43 11.16 11.16 0 0 1 5.06-1A12.08 12.08 0 0 0 9.34 9.2a9.48 9.48 0 0 0-1.86 1.53 11.38 11.38 0 0 0-1.39 1.91 16.39 16.39 0 0 0-1.57 4.54A26.42 26.42 0 0 0 4 22h2a30.69 30.69 0 0 1 .59-4.32 9.25 9.25 0 0 0 4.52 1.11 11 11 0 0 0 4.28-.87C23 14.67 22 3.86 22 3.41z"></path></svg>
                            }
                        </div>
                    </a>

                    <a href="@Url.Action("Details", "Fabrics", new { id = 2 })" class="block max-w-sm p-6 bg-white border border-gray-200 rounded-lg shadow mx-10">
                        <h5 class="mb-2 text-xl font-bold tracking-tight text-btn">Synthetic Blend</h5>
                        <div class="flex items-center">
                            @for (int i = 0; i < 5; i++)
                            {
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" style="fill: rgba(58, 191, 33, 0.8);"><path d="m22 3.41-.12-1.26-1.2.4a13.84 13.84 0 0 1-6.41.64 11.87 11.87 0 0 0-6.68.9A7.23 7.23 0 0 0 3.3 9.5a9 9 0 0 0 .39 4.58 16.6 16.6 0 0 1 1.18-2.2 9.85 9.85 0 0 1 4.07-3.43 11.16 11.16 0 0 1 5.06-1A12.08 12.08 0 0 0 9.34 9.2a9.48 9.48 0 0 0-1.86 1.53 11.38 11.38 0 0 0-1.39 1.91 16.39 16.39 0 0 0-1.57 4.54A26.42 26.42 0 0 0 4 22h2a30.69 30.69 0 0 1 .59-4.32 9.25 9.25 0 0 0 4.52 1.11 11 11 0 0 0 4.28-.87C23 14.67 22 3.86 22 3.41z"></path></svg>
                            }
                        </div>
                    </a>

                    <a href="@Url.Action("Details", "Fabrics", new { id = 4 })" class="block max-w-sm p-6 bg-white border border-gray-200 rounded-lg shadow mx-10">
                        <h5 class="mb-2 text-xl font-bold tracking-tight text-btn">Linen</h5>
                        <div class="flex items-center">
                            @for (int i = 0; i < 4; i++)
                            {
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" style="fill: rgba(58, 191, 33, 0.8);"><path d="m22 3.41-.12-1.26-1.2.4a13.84 13.84 0 0 1-6.41.64 11.87 11.87 0 0 0-6.68.9A7.23 7.23 0 0 0 3.3 9.5a9 9 0 0 0 .39 4.58 16.6 16.6 0 0 1 1.18-2.2 9.85 9.85 0 0 1 4.07-3.43 11.16 11.16 0 0 1 5.06-1A12.08 12.08 0 0 0 9.34 9.2a9.48 9.48 0 0 0-1.86 1.53 11.38 11.38 0 0 0-1.39 1.91 16.39 16.39 0 0 0-1.57 4.54A26.42 26.42 0 0 0 4 22h2a30.69 30.69 0 0 1 .59-4.32 9.25 9.25 0 0 0 4.52 1.11 11 11 0 0 0 4.28-.87C23 14.67 22 3.86 22 3.41z"></path></svg>
                            }
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" style="fill: rgba(58, 191, 33, 0.8);"><path d="m21.88 2.15-1.2.4a13.84 13.84 0 0 1-6.41.64 11.87 11.87 0 0 0-6.68.9A7.23 7.23 0 0 0 3.3 9.5a8.65 8.65 0 0 0 1.47 6.6c-.06.21-.12.42-.17.63A22.6 22.6 0 0 0 4 22h2a30.69 30.69 0 0 1 .59-4.32 9.25 9.25 0 0 0 4.52 1.11 11 11 0 0 0 4.28-.87C23 14.67 22 3.86 22 3.41zm-7.27 13.93c-2.61 1.11-5.73.92-7.48-.45a13.79 13.79 0 0 1 1.21-2.84A10.17 10.17 0 0 1 9.73 11a9 9 0 0 1 1.81-1.42A12 12 0 0 1 16 8V7a11.43 11.43 0 0 0-5.26 1.08 10.28 10.28 0 0 0-4.12 3.65 15.07 15.07 0 0 0-1 1.87 7 7 0 0 1-.38-3.73 5.24 5.24 0 0 1 3.14-4 8.93 8.93 0 0 1 3.82-.84c.62 0 1.23.06 1.87.11a16.2 16.2 0 0 0 6-.35C20 7.55 19.5 14 14.61 16.08z"></path></svg>
                        </div>
                    </a>

                </div>



            </div>
        </div>
        <!-- Slider indicators -->
        <div class="absolute z-30 flex -translate-x-1/2 bottom-5 left-1/2 space-x-3 rtl:space-x-reverse">
            <button id="carousel-indicator-1" type="button" class="w-3 h-3 rounded-full border" aria-current="true" aria-label="Slide 1" data-carousel-slide-to="0"></button>
            <button id="carousel-indicator-2" type="button" class="w-3 h-3 rounded-full border" aria-current="false" aria-label="Slide 2" data-carousel-slide-to="1"></button>
            <button id="carousel-indicator-3" type="button" class="w-3 h-3 rounded-full border" aria-current="false" aria-label="Slide 2" data-carousel-slide-to="2"></button>
        </div>
        <!-- Slider controls -->
        <button type="button" class="absolute top-0 start-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none" data-carousel-prev>
            <span class="inline-flex items-center justify-center w-10 h-10 rounded-full bg-btn">
                <svg class="w-4 h-4 text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 1 1 5l4 4" />
                </svg>
                <span class="sr-only">Previous</span>
            </span>
        </button>
        <button type="button" class="absolute top-0 end-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none" data-carousel-next>
            <span class="inline-flex items-center justify-center w-10 h-10 rounded-full bg-btn">
                <svg class="w-4 h-4 text-white dark:text-gray-800 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 9 4-4-4-4" />
                </svg>
                <span class="sr-only">Next</span>
            </span>
        </button>
    </div>

</div>




<!--Remove bad sustainability rating text/Make the score bigger and only display number without “Scores” next to the brand name/Add the leaves-->


<script>

    var ctxBrand = document.getElementById('brandChart').getContext('2d');
    var brandChart = new Chart(ctxBrand, {
        type: 'bar',
        data: {
            labels: ['@Html.DisplayFor(model => model.FabricName) Score', 'Average Score'],
            datasets: [{
                label: 'Compare to Average Sustainability score in the world',
                data: [@Html.Raw(Json.Encode(Model.Score)), 2.72],
                backgroundColor: [
                    'rgba(54, 162, 235, 0.2)', // blue for brand score
                    'rgba(255, 159, 64, 0.2)'  // orange for average score
                ],
                borderColor: [
                    'rgba(54, 162, 235, 1)',
                    'rgba(255, 159, 64, 1)'
                ],
                borderWidth: 1
            }]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true,
                    grid: {
                        display: false  // Disable horizontal grid lines
                    }
                },
                x: {
                    grid: {
                        display: false  // Disable horizontal grid lines
                    }
                }
            }
        }
    });

    var ctxEnvironment = document.getElementById('environmentImpactChart').getContext('2d');
    var environmentImpactChart = new Chart(ctxEnvironment, {
        type: 'bar',
        data: {
            labels: ['Greenhouse Gas Emission', 'Pollutants Emitted', 'Water Consumption', 'Energy Consumption', 'Waste Generation', 'Sales Revenue'],
            datasets: [{
                label: 'Environmental Impact Metrics',
                data: [
                    @Html.Raw(Model.GreenHouse),
                    @Html.Raw(Model.Pollutants),
                    @Html.Raw(Model.WaterConsum),
                    @Html.Raw(Model.EnergyConsum),
                    @Html.Raw(Model.WasteConsum),
                    @Html.Raw(Model.SalesReve)
                ],
                backgroundColor: [
                    'rgba(255, 99, 132, 0.2)',  // Greenhouse Gas Emission
                    'rgba(54, 162, 235, 0.2)',   // Pollutants Emitted
                    'rgba(255, 206, 86, 0.2)',   // Water Consumption
                    'rgba(75, 192, 192, 0.2)',   // Energy Consumption
                    'rgba(153, 102, 255, 0.2)',  // Waste Generation
                    'rgba(255, 159, 64, 0.2)'    // Sales Revenue
                ],
                borderColor: [
                    'rgba(255, 99, 132, 1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(255, 206, 86, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(153, 102, 255, 1)',
                    'rgba(255, 159, 64, 1)'
                ],
                borderWidth: 1
            }]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });

</script>




